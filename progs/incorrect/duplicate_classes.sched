classes A, B; 

var = fifo[union[A, B]];
final = rr[var, fifo[B]]; // B is used twice

return final