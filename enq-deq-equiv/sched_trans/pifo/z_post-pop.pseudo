def z_post-pop(st, pkt):
    f = flow(pkt)
    turn = int(s["turn"])
    i = turn
    while i != f:
        st["r_" + str(i)] += n
        i = (i + 1) % n
    st["turn"] = float((f + 1) % n)
    if turn >= st["turn"]:
        st["cycle"] += 1
    return st
